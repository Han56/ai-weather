<navigation-bar title="ç”¨æˆ·ç”»åƒè®¾ç½®" back="{{true}}" color="black" background="#FFF" bindback="onBack"></navigation-bar>
<view class="page-container">
  <!-- é¡µé¢å¤´éƒ¨ -->
  <view class="page-header">
    <text class="page-title">ç”¨æˆ·ç”»åƒè®¾ç½®</text>
    <text class="page-subtitle">å®Œå–„æ‚¨çš„ä¸ªäººä¿¡æ¯ï¼Œè·å¾—æ›´ç²¾å‡†çš„æ¨è</text>
  </view>

  <scroll-view class="content-container" scroll-y="true">
    <form bindsubmit="onFormSubmit">
      <!-- åŸºæœ¬ä¿¡æ¯ -->
      <view class="section">
        <view class="section-header">
          <text class="section-icon">ğŸ‘¤</text>
          <text class="section-title">åŸºæœ¬ä¿¡æ¯</text>
        </view>

        <!-- æ€§åˆ« -->
        <view class="form-group">
          <text class="form-label">æ€§åˆ«</text>
          <view class="radio-group horizontal">
            <view class="radio-item" wx:for="{{genderOptions}}" wx:key="value">
              <radio value="{{item.value}}" checked="{{formData.gender === item.value}}" bindtap="onGenderChange" data-value="{{item.value}}"/>
              <text class="radio-text">{{item.label}}</text>
            </view>
          </view>
        </view>

        <!-- å¹´é¾„æ®µ -->
        <view class="form-group">
          <text class="form-label">å¹´é¾„æ®µ</text>
          <picker bindchange="onAgeChange" value="{{ageIndex}}" range="{{ageOptions}}" range-key="label">
            <view class="picker-container">
              <text class="picker-text">{{formData.age ? ageOptions[ageIndex].label : 'è¯·é€‰æ‹©å¹´é¾„æ®µ'}}</text>
              <text class="picker-arrow">â–¼</text>
            </view>
          </picker>
        </view>

        <!-- å›½å®¶ä¸åœ°åŒº -->
        <view class="form-group">
          <text class="form-label">å›½å®¶ä¸åœ°åŒº</text>
          <picker bindchange="onCountryChange" value="{{countryIndex}}" range="{{countryOptions}}" range-key="label">
            <view class="picker-container">
              <text class="picker-text">{{formData.country ? countryOptions[countryIndex].label : 'è¯·é€‰æ‹©å›½å®¶ä¸åœ°åŒº'}}</text>
              <text class="picker-arrow">â–¼</text>
            </view>
          </picker>
        </view>

        <!-- äººç§ -->
        <view class="form-group">
          <text class="form-label">äººç§</text>
          <picker bindchange="onRaceChange" value="{{raceIndex}}" range="{{raceOptions}}" range-key="label">
            <view class="picker-container">
              <text class="picker-text">{{formData.race ? raceOptions[raceIndex].label : 'è¯·é€‰æ‹©äººç§'}}</text>
              <text class="picker-arrow">â–¼</text>
            </view>
          </picker>
        </view>
      </view>

      <!-- èº«æä¿¡æ¯ -->
      <view class="section">
        <view class="section-header">
          <text class="section-icon">ğŸ“</text>
          <text class="section-title">èº«æä¿¡æ¯</text>
        </view>

        <!-- èº«é«˜ -->
        <view class="form-group">
          <text class="form-label">èº«é«˜</text>
          <picker bindchange="onHeightChange" value="{{heightIndex}}" range="{{currentHeightOptions}}" range-key="label">
            <view class="picker-container">
              <text class="picker-text">{{formData.height ? currentHeightOptions[heightIndex].label : 'è¯·é€‰æ‹©èº«é«˜èŒƒå›´'}}</text>
              <text class="picker-arrow">â–¼</text>
            </view>
          </picker>
        </view>

        <!-- ä½“é‡ -->
        <view class="form-group">
          <text class="form-label">ä½“é‡</text>
          <picker bindchange="onWeightChange" value="{{weightIndex}}" range="{{currentWeightOptions}}" range-key="label">
            <view class="picker-container">
              <text class="picker-text">{{formData.weight ? currentWeightOptions[weightIndex].label : 'è¯·é€‰æ‹©ä½“é‡èŒƒå›´'}}</text>
              <text class="picker-arrow">â–¼</text>
            </view>
          </picker>
        </view>
      </view>

      <!-- ç©¿è¡£é£æ ¼ -->
      <view class="section">
        <view class="section-header">
          <text class="section-icon">ğŸ‘”</text>
          <text class="section-title">ç©¿è¡£é£æ ¼</text>
        </view>

        <view class="form-group">
          <text class="form-label">é£æ ¼åå¥½ï¼ˆå¯å¤šé€‰ï¼‰</text>
          <view class="style-grid">
            <view wx:for="{{styleOptions}}" 
                  wx:key="value"
                  class="style-item {{selectedStates.styles[item.value] ? 'selected' : ''}}" 
                  bindtap="onStyleTap" 
                  data-value="{{item.value}}"
                  data-label="{{item.label}}">
              <text>{{item.label}}</text>
            </view>
          </view>
        </view>
      </view>

      <!-- é¥°å“é€‰æ‹© -->
      <view class="section">
        <view class="section-header">
          <text class="section-icon">ğŸ’</text>
          <text class="section-title">é¥°å“é€‰æ‹©</text>
        </view>

        <view class="form-group">
          <text class="form-label">å¸¸ç”¨é¥°å“ï¼ˆå¯å¤šé€‰ï¼‰</text>
          <view class="style-grid">
            <view wx:for="{{accessoryOptions}}" 
                  wx:key="value"
                  class="style-item {{selectedStates.accessories[item.value] ? 'selected' : ''}}" 
                  bindtap="onAccessoryTap" 
                  data-value="{{item.value}}"
                  data-label="{{item.label}}">
              <text>{{item.label}}</text>
            </view>
          </view>
        </view>
      </view>

      <!-- å‘å‹é€‰æ‹© -->
      <view class="section">
        <view class="section-header">
          <text class="section-icon">ğŸ’‡</text>
          <text class="section-title">å‘å‹é€‰æ‹©</text>
        </view>
        <view class="form-group">
          <text class="form-label">å‘å‹åå¥½ï¼ˆå•é€‰ï¼‰</text>
          <view class="radio-group">
            <view class="radio-item" wx:for="{{hairstyleOptions}}" wx:key="value">
              <radio value="{{item.value}}" checked="{{formData.hairstyles[0] === item.value}}" bindtap="onHairstyleChange" data-value="{{item.value}}"/>
              <text class="radio-text">{{item.label}}</text>
            </view>
          </view>
        </view>
      </view>

      <!-- ä¿å­˜æŒ‰é’® -->
      <view class="button-container">
        <button class="save-button {{!isModified ? 'disabled' : ''}}" 
                form-type="submit" 
                disabled="{{!isModified}}">ä¿å­˜è®¾ç½®</button>
      </view>
      <view style="height: 110px;"></view>
    </form>
  </scroll-view>
</view>
